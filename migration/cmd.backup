cmd.backup

sudo x86_64-softmmu/qemu-system-x86_64 -boot c -m 256 -smp 2 -qmp stdio -vnc :7 -name secondary -enable-kvm -cpu qemu64,+kvmclock -device piix3-usb-uhci \
  -drive if=none,id=colo-disk1,file.filename=/ubuntu-vm/ubuntu-cheng.img,driver=raw,node-name=node0 \
  -drive if=virtio,id=active-disk1,driver=replication,mode=secondary,file.driver=qcow2,top-id=active-disk1,file.file.filename=/ubuntu-vm/active_disk.img,file.backing.driver=qcow2,file.backing.file.filename=/ubuntu-vm/hidden_disk.img,file.backing.backing=colo-disk1  \
  -netdev tap,id=hn1,vhost=off,script=/etc/qemu-ifup,downscript=/etc/qemu-ifdown \
  -device e1000,netdev=hn1,mac=52:a4:00:12:78:66 -chardev socket,id=red0,host=10.22.1.2,port=9003 \
  -chardev socket,id=red1,host=10.22.1.2,port=9004 \
  -object filter-redirector,id=f1,netdev=hn1,queue=tx,indev=red0 \
  -object filter-redirector,id=f2,netdev=hn1,queue=rx,outdev=red1 \
  -object filter-rewriter,id=rew0,netdev=hn1,queue=all -incoming tcp:0:8888 




{'execute':'qmp_capabilities'}

{ 'execute': 'nbd-server-start',
  'arguments': {'addr': {'type': 'inet', 'data': {'host': '10.22.1.3', 'port': '8889'} } }
}

{'execute': 'nbd-server-add', 'arguments': {'device': 'colo-disk1', 'writable': true } }